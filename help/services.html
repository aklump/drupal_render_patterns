
<p>This example shows you how to use services in your pattern.</p>

<ol>
<li>Implement <code>\Drupal\Core\DependencyInjection\ContainerInjectionInterface</code></li>
<li>Declare <code>private</code> class variables.</li>
</ol>

<pre><code class="php">namespace Drupal\render_patterns\Pattern;

final class LibraryFacets extends Pattern implements \Drupal\Core\DependencyInjection\ContainerInjectionInterface {

  private $blockRepository;

  private $entityTypeManager;

  public function __construct(\Drupal\block\BlockRepositoryInterface $block_repository, \Drupal\Core\Entity\EntityTypeManagerInterface $entity_type_manager) {
    $this-&gt;blockRepository = $block_repository;
    $this-&gt;entityTypeManager = $entity_type_manager;
  }

  public static function create(\Symfony\Component\DependencyInjection\ContainerInterface $container) {
    return new static(
      $container-&gt;get('block.repository'),
      $container-&gt;get('entity_type.manager'),
    );
  }

  ...
}

</code></pre>
